<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Spine Dragon - 3.8 Player</title>
    <!-- ä½¿ç”¨ 3.8 ç‰ˆæœ¬çš„æ’­æ”¾å™¨ -->
    <script src="https://unpkg.com/@esotericsoftware/spine-player@3.8/dist/iife/spine-player.js"></script>
    <link
      rel="stylesheet"
      href="https://unpkg.com/@esotericsoftware/spine-player@3.8/dist/spine-player.css"
    />
    <style>
      * {
        margin: 0;
        padding: 0;
      }
      body {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        padding: 20px;
        font-family: Arial, sans-serif;
      }
      #info {
        background: rgba(0, 0, 0, 0.9);
        color: #00ff00;
        padding: 15px;
        margin-bottom: 15px;
        border-radius: 8px;
        font-size: 14px;
      }
      #player-container {
        width: 700px;
        height: 700px;
        background: rgba(255, 255, 255, 0.1);
        border: 3px solid rgba(255, 255, 255, 0.3);
        border-radius: 12px;
        margin: 0 auto;
      }
      .error {
        color: #ff4444;
      }
      .success {
        color: #00ff00;
      }
    </style>
  </head>
  <body>
    <div id="info">ğŸ”„ ä½¿ç”¨ Spine Player 3.8 åŠ è½½ä¸­...</div>
    <div id="player-container"></div>

    <script>
      const info = document.getElementById("info");

      window.onload = function () {
        if (typeof spine === "undefined") {
          info.innerHTML =
            '<span class="error">âŒ Spine Player 3.8 åŠ è½½å¤±è´¥</span>';
          return;
        }

        const folder = "mon_earth_dragon_01";
        const assetsPath = window.location.origin + `/assets/${folder}/`;

        info.innerHTML = `<b>ğŸ‰ Spine Player 3.8</b><br>åŠ è½½è·¯å¾„: ${assetsPath}`;

        try {
          new spine.SpinePlayer("player-container", {
            jsonUrl: assetsPath + folder + ".json",
            atlasUrl: assetsPath + folder + ".atlas",
            animation: "idle2",
            premultipliedAlpha: false,
            backgroundColor: "#00000000",
            alpha: true,
            showControls: true,
            viewport: {
              padLeft: "15%",
              padRight: "15%",
              padTop: "15%",
              padBottom: "15%",
            },
            success: function (player) {
              info.innerHTML =
                '<span class="success">âœ… æˆåŠŸåŠ è½½ï¼ä½¿ç”¨ Spine Player 3.8</span>';
            },
            error: function (p, msg) {
              info.innerHTML = `<span class="error">âŒ é”™è¯¯: ${msg}</span>`;
            },
          });
        } catch (e) {
          info.innerHTML = `<span class="error">âŒ åˆå§‹åŒ–å¤±è´¥: ${e.message}</span>`;
        }
      };
    </script>
  </body>
</html>
